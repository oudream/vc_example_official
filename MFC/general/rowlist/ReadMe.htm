<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>ROWLIST Sample: Demonstrates Selecting Full Rows in List Views</title></head><body><h1>ROWLIST Sample: Demonstrates Selecting Full Rows in List Views</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>The ROWLIST sample illustrates selecting full rows in a report mode of the <b>CListView</b> MFC common control class. The sample implements a reusable class, <b>CListViewEx</b>, that provides full row selection as an additional view mode of a list view control. <b>CListViewEx</b> uses the owner-draw mode to do all the painting for the control. You can use the class in your own projects, either directly or as a base class. ROWLIST also demonstrates how to use state and overlay images with a list view control.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build and run the ROWLIST sample</h4><div class="subSection"><ol><li><p>Open the solution rowlist.sln. </p></li><li><p>On the <b>Build</b> menu, click <b>Build</b>. </p></li><li><p>On the <b>Debug</b> menu, click <b>Start Without Debugging</b>. </p></li></ol></div><p>When you run ROWLIST, it presents a single-document interface (SDI) application whose view is a <b>CListView</b>-derived class. The view has items representing different colors, with additional data about them. The list view control comes up initially in the report mode, with full row selection enabled. The <b>View</b> menu and the toolbar allow you to select other view modes.</p><p>State images are initially set to an empty square on the left side of each item. If you click a state image, the item's image becomes an icon displayed on the caption bar. If state images are not displayed, you can double-click an item to change its state.</p></div><h1 class="heading">CListViewEx Class</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><p>The class <b>CListViewEx</b>, derived from <b>CListView</b>, is a reusable class that implements the full row selection mode. The class provides complete support for the owner-draw mode of a list view control, and provides full row selection by implementing painting code for all images and labels. <b>CListViewEx</b> displays a control's images and labels exactly as in the report mode, with the addition of the full row selection. The class has only two additional member functions (as compared to <b>CListView</b>): <b>SetFullRowSel</b> and <b>GetFullRowSel</b>. These functions are used to set or query for the full row selection mode.</p><p>You can reuse the class in your own projects, either by deriving a class from it, or by using it directly. The simplest way to use the class is to use the application wizard to create an application that has a <b>CListView</b>-derived class, and then to change its base class to <b>CListViewEx</b>.</p></div><h1 class="heading">Using State and Overlay Images with a CListView</h1><div id="sectionSection2" class="seeAlsoNoToggleSection"><p>ROWLIST demonstrates use of state and overlay images. State images are initially set to an empty square on the left side of each item. If you click a state image, the item's image becomes an icon displayed on the caption bar. In response, the item's state icon changes to a square with a check mark. <b>CRowListView::OnLButtonDown</b> contains the code that inserts the check mark if a state icon is selected, and that changes a state icon for an item.</p><p>If state images are not displayed, then the image currently in use will be marked with an overlay image on top of it (a gray square with a check mark). You can use a double-click to change the state of an item, which also toggles an overlay image on or off. The implementation code for the double-click is found in <b>CRowListView::OnLButtonDblClk</b>.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Note </th></tr><tr><td><p>Some samples, such as this one, have not been modified to reflect the changes in the Visual C++ wizards, libraries, and compiler, but still demonstrate how to complete your desired task. </p></td></tr></table></div></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :ROWLIST Sample: Demonstrates Selecting Full Rows in List Views">comments</a> about this topic to Microsoft.
      </div></div></body></html>
