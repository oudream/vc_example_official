<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>ATLSecurity Sample: Demonstrates ATL Security Classes</title></head><body><h1>ATLSecurity Sample: Demonstrates ATL Security Classes</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>The ATLSecurity sample shows how to use the ATL security classes to examine security settings.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build this sample</h4><div class="subSection"><ol><li><p>Open the solution file ATLSecurity.sln.</p></li><li><p>From the <b>Build</b> menu, click <b>Build Solution</b>.</p></li></ol></div><p>You can run the ATLSecurity sample from a command prompt or the debugger. Passing -? as a parameter displays a help message. To get examples of the format of the names of various objects ATLSecurity can examine, see the documentation for the <MSHelp:link keywords="_win32_SE_OBJECT_TYPE_str" tabindex="0" >SE_OBJECT_TYPE</MSHelp:link> enumeration.</p><p>The Event subproject creates an event with the name <code>MyEvent</code> and a DACL that gives everyone read access to the event and gives the Administrator and Localsystem full access to the event. The Event subproject demonstrates how to use the ATL security classes to build a DACL and gives a target for the ATLSecurity sample.</p><p>Event.exe will create an event and wait for a keypress. To use it with ATLSecurity.exe, run Event.exe from one command prompt, then run the following from another command prompt:</p><div class="code"><span codeLanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><td colspan="2"><pre>ATLSecurity –kernel MyEvent</pre></td></tr></table></span></div></div><h1 class="heading">Keywords</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><p>This sample shows how to use the following classes: </p><p>CSid, CAcl, CDacl, CSacl, CSecurityDesc, CSecurityAttributes, CTokenGroups, CTokenPrivileges, CAccessToken</p></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :ATLSecurity Sample: Demonstrates ATL Security Classes">comments</a> about this topic to Microsoft.
      </div></div></body></html>
